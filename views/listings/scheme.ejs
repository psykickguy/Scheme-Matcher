<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Scheme</title>
    <link rel="stylesheet" href="/css/scheme.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <div class="header">
      <div class="logo"><a href="/home %>">logo</a></div>
      <div class="scheme-section">
        <a href="/home/listings"
          ><div class="scheme"><i class="fas fa-user"></i> Schemes</div></a
        >
      </div>
      <div class="menu">
        <div class="search-container">
          <button class="search-btn">
            <i class="fa-solid fa-magnifying-glass"></i>
          </button>
          <input type="text" placeholder="Search..." class="search-input" />
        </div>
        <div class="language-selector">
          <i class="fas fa-language"></i>
          <select>
            <option value="en">English</option>
            <option value="es">Espa√±ol</option>
            <option value="fr">Fran√ßais</option>
            <option value="de">Deutsch</option>
            <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
          </select>
        </div>
        <div class="help-section">
          <div class="help"><i class="fas fa-question-circle"></i> Help</div>
        </div>
        <div class="login-section">
          <div class="login">
            <a href="/home/login %>"><i class="fas fa-user"></i> Sign-in</a>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-3">
        <div
          id="simple-list-example"
          class="d-flex flex-column gap-2 simple-list-example-scrollspy text-center"
        >
          <a class="p-1 rounded" href="#simple-list-item-1">Details</a>
          <a class="p-1 rounded" href="#simple-list-item-2">Benefits</a>
          <a class="p-1 rounded" href="#simple-list-item-3">Eligibility</a>
          <a class="p-1 rounded" href="#simple-list-item-4">Exclusions</a>
          <a class="p-1 rounded" href="#simple-list-item-5"
            >Application Process</a
          >
          <a class="p-1 rounded" href="#simple-list-item-6"
            >Documents Required</a
          >
          <a class="p-1 rounded" href="#simple-list-item-7"
            >Frequently Asked Questions</a
          >
          <a class="p-1 rounded" href="#simple-list-item-8"
            >Sources And References</a
          >
        </div>
      </div>
      <div class="col-9">
        <div class="title"><h3><%= listing.title %></h3></div>
        <div class="sub-title"><%= listing.department %></div>
        <div
          data-bs-spy="scroll"
          data-bs-target="#simple-list-example"
          data-bs-offset="0"
          data-bs-smooth-scroll="true"
          class="scrollspy-example"
          tabindex="0"
        >
          <h4 id="simple-list-item-1">Details</h4>
          <p><%= listing.details %></p>
          <h4 id="simple-list-item-2">Benefits</h4>
          <p><%= listing.benefits %></p>
          <h4 id="simple-list-item-3">Eligibility</h4>
          <p><%= listing.eligibility %></p>

          <h4 id="simple-list-item-5">Application Process</h4>
          <p><%= listing.process %></p>
          <h4 id="simple-list-item-6">Documents Required</h4>
          <p><%= listing.documents %></p>

          <h4 id="simple-list-item-8">Sources And References</h4>
          <ul class="list-group list-group-">
            <li class="list-group-item"><a>Guidelines</a></li>
            <li class="list-group-item">
              <a>Standard Operating Procedure (SOP)</a>
            </li>
            <li class="list-group-item"><a>Timeline</a></li>
            <li class="list-group-item">
              <a
                >Scheme Description As On The Navasakam Beneficiary Management
                Portal</a
              >
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="result">
      <div class="result-box">
        <div class="upper-box">
          <div class="icon">
            <i class="fa-regular fa-bookmark"></i>
            <i class="fa-regular fa-calendar"></i>
          </div>
          <button type="button" class="btn btn-outline-primary">
            <i class="fa-solid fa-share"></i>Share
          </button>
        </div>
        <div class="conclusion"><a>Not Eligible</a></div>
        <div class="recommendation">
          <h5>AI Recommendations</h5>
          <div class="ai-box">
            <% for(let listing of allListings) { %>
            <a href="/listings/<%= listing._id %>">
              <div class="state-container">
                <div class="flex-container">
                  <div class="image-wrapper">
                    <img
                      alt="Karnataka"
                      title="Karnataka"
                      src="https://e7.pngegg.com/pngimages/408/217/png-clipart-public-administration-business-administration-organization-gestion-paraestatalidad-concierto-text-trademark-thumbnail.png"
                      class="state-image"
                      loading="lazy"
                    />
                  </div>

                  <div class="state-info">
                    <h2 class="state-title"><%= listing.department %></h2>

                    <div class="state-numbers">
                      <span class="state-number">
                        <span class="number">59</span>
                        <span class="label">State</span>
                      </span>

                      <span class="state-number">
                        <span class="number">506</span>
                        <span class="label">Central</span>
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </a>
            <% } %>
          </div>
        </div>
      </div>
    </div>

    <button class="button" id="toggleButton">üåô Dark Mode</button>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>

    <script>
      const toggleButton = document.getElementById("toggleButton");
      const body = document.body;
      const sunMoon = document.getElementById("sunMoon");

      toggleButton.addEventListener("click", () => {
        body.classList.toggle("dark-mode");
        if (body.classList.contains("dark-mode")) {
          toggleButton.textContent = "‚òÄÔ∏è Light Mode";
          if (!sunMoon.querySelector(".moon-shadow")) {
            const shadow = document.createElement("div");
            shadow.classList.add("moon-shadow");
            sunMoon.appendChild(shadow);
          }
        } else {
          toggleButton.textContent = "üåô Dark Mode";
          const shadow = sunMoon.querySelector(".moon-shadow");
          if (shadow) shadow.remove();
        }
      });

      document
        .querySelectorAll('#nav-tab>[data-bs-toggle="tab"]')
        .forEach((el) => {
          el.addEventListener("shown.bs.tab", () => {
            const target = el.getAttribute("data-bs-target");
            const scrollElem = document.querySelector(
              `${target} [data-bs-spy="scroll"]`
            );
            bootstrap.ScrollSpy.getOrCreateInstance(scrollElem).refresh();
          });
        });
    </script>
  </body>
</html>
