<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="/css/scheme-list.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <div class="header">
      <div class="logo"><a href="/home %>">logo</a></div>
      <div class="scheme-section">
        <div class="scheme" onclick="navigateToPage('scheme.html')">
          <i class="fas fa-user"></i> Schemes
        </div>
      </div>
      <div class="menu">
        <div class="language-selector">
          <i class="fas fa-language"></i>
          <select>
            <option value="en">English</option>
            <option value="es">Espa√±ol</option>
            <option value="fr">Fran√ßais</option>
            <option value="de">Deutsch</option>
            <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
          </select>
        </div>
      </div>
      <div class="help-section">
        <div class="help"><i class="fas fa-question-circle"></i> Help</div>
      </div>
      <div class="login-section">
        <div class="login">
          <a href="/home/login %>"><i class="fas fa-user"></i> Sign-in</a>
        </div>
      </div>
    </div>
    <div class="content">
      <div class="side-bar">
        <div class="filter">
          <div class="filter-text">
            <i class="fa-solid fa-filter funnel"></i>
            Filter
          </div>
          <i class="fa-solid fa-rotate-left undo"></i>
        </div>
        <select class="form-select" aria-label="Default select example">
          <option selected>State</option>
          <option value="1">One</option>
          <option value="2">Two</option>
          <option value="3">Three</option>
        </select>
        <div class="options" onclick="toggleOptions()">
          <span>Scheme Category</span>
        </div>

        <div id="optionsContainer" class="overflow-hidden h-auto">
          <div class="form-check">
            <input
              class="form-check-input"
              type="checkbox"
              value=""
              id="flexCheckDefault"
            />
            <label class="form-check-label" for="socialWelfare">
              Social welfare & Empowerment
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="checkbox"
              value=""
              id="flexCheckChecked"
            />
            <label class="form-check-label" for="educationLearning">
              Education & Learning
            </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="checkbox"
              value=""
              id="flexCheckChecked"
            />
            <label class="form-check-label" for="agricultureEnvironment">
              Agriculture, Rural & Environment
            </label>
          </div>
        </div>
      </div>
      <div class="main">
        <div class="upper">
          <div class="search-container">
            <div id="search-bar" class="search">
              <input type="text" placeholder="Search here..." />
              <button class="search-btn">
                <i class="fa-solid fa-magnifying-glass"></i>
              </button>
            </div>
          </div>
          <div class="sort">
            <div class="region">
              <select class="form-select" aria-label="Default select example">
                <option selected>All Schemes</option>
                <option value="1">State Schemes</option>
                <option value="2">Central Schemes</option>
              </select>
            </div>
            <div class="sort-options">
              <select class="form-select" aria-label="Default select example">
                <option selected>Relevance</option>
                <option value="1">A-Z</option>
                <option value="2">Z-A</option>
              </select>
            </div>
          </div>
        </div>

        <div class="main-list">
          <% for(let listing of allListings) { %>
          <a href="/listings/<%= listing._id %>">
            <div class="scheme-card">
              <h4><%= listing.title %></h4>
              <a href="#"><%= listing.department %></a>
              <p><%= listing.details %></p>
              <div class="category">
                <div
                  class="btn-group"
                  role="group"
                  aria-label="Basic outlined example"
                >
                  <button type="button" class="btn btn-outline-primary">
                    APL
                  </button>
                  <button type="button" class="btn btn-outline-primary">
                    BPL
                  </button>
                  <button type="button" class="btn btn-outline-primary">
                    Disabled
                  </button>
                  <button type="button" class="btn btn-outline-primary">
                    Financial Assistance
                  </button>
                  <button type="button" class="btn btn-outline-primary">
                    PwD
                  </button>
                  <button type="button" class="btn btn-outline-primary">
                    Student
                  </button>
                </div>
              </div>
            </div>
          </a>
          <% } %>
        </div>
      </div>
    </div>
    <div class="cloud cloud-small"></div>
    <div class="cloud cloud-medium"></div>
    <div class="cloud cloud-1"></div>
    <div class="cloud cloud-2"></div>
    <div class="cloud cloud-large"></div>

    <div class="sun-moon" id="sunMoon"></div>

    <button class="button" id="toggleButton">üåô Dark Mode</button>

    <script>
      const toggleButton = document.getElementById("toggleButton");
      const body = document.body;
      const sunMoon = document.getElementById("sunMoon");

      toggleButton.addEventListener("click", () => {
        body.classList.toggle("dark-mode");
        if (body.classList.contains("dark-mode")) {
          toggleButton.textContent = "‚òÄÔ∏è Light Mode";
          if (!sunMoon.querySelector(".moon-shadow")) {
            const shadow = document.createElement("div");
            shadow.classList.add("moon-shadow");
            sunMoon.appendChild(shadow);
          }
        } else {
          toggleButton.textContent = "üåô Dark Mode";
          const shadow = sunMoon.querySelector(".moon-shadow");
          if (shadow) shadow.remove();
        }
      });
    </script>
  </body>
</html>
